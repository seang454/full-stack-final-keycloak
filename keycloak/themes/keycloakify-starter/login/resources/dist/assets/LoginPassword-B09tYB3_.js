import{r as x,j as s}from"./index-wzh7rEoK.js";import{g as j,c as b,k}from"./KcPage-D2b50LOC.js";import{u as w}from"./useIsPasswordRevealed-RSeT6v6h.js";function v(n){const{kcContext:e,i18n:o,doUseDefaultCss:r,Template:c,classes:t}=n,{kcClsx:a}=j({doUseDefaultCss:r,classes:t}),{realm:l,url:m,messagesPerField:i}=e,{msg:d,msgStr:p}=o,[u,g]=x.useState(!1);return s.jsx(c,Object.assign({kcContext:e,i18n:o,doUseDefaultCss:r,classes:t,headerNode:d("doLogIn"),displayMessage:!i.existsError("password")},{children:s.jsx("div",Object.assign({id:"kc-form"},{children:s.jsx("div",Object.assign({id:"kc-form-wrapper"},{children:s.jsxs("form",Object.assign({id:"kc-form-login",onSubmit:()=>(g(!0),!0),action:m.loginAction,method:"post"},{children:[s.jsxs("div",Object.assign({className:b(a("kcFormGroupClass"),"no-bottom-margin")},{children:[s.jsx("hr",{}),s.jsx("label",Object.assign({htmlFor:"password",className:a("kcLabelClass")},{children:d("password")})),s.jsx(h,Object.assign({kcClsx:a,i18n:o,passwordInputId:"password"},{children:s.jsx("input",{tabIndex:2,id:"password",className:a("kcInputClass"),name:"password",type:"password",autoFocus:!0,autoComplete:"on","aria-invalid":i.existsError("username","password")})})),i.existsError("password")&&s.jsx("span",{id:"input-error-password",className:a("kcInputErrorMessageClass"),"aria-live":"polite",dangerouslySetInnerHTML:{__html:k(i.get("password"))}})]})),s.jsxs("div",Object.assign({className:a("kcFormGroupClass","kcFormSettingClass")},{children:[s.jsx("div",{id:"kc-form-options"}),s.jsx("div",Object.assign({className:a("kcFormOptionsWrapperClass")},{children:l.resetPasswordAllowed&&s.jsx("span",{children:s.jsx("a",Object.assign({tabIndex:5,href:m.loginResetCredentialsUrl},{children:d("doForgotPassword")}))})}))]})),s.jsx("div",Object.assign({id:"kc-form-buttons",className:a("kcFormGroupClass")},{children:s.jsx("input",{tabIndex:4,className:a("kcButtonClass","kcButtonPrimaryClass","kcButtonBlockClass","kcButtonLargeClass"),name:"login",id:"kc-login",type:"submit",value:p("doLogIn"),disabled:u})}))]}))}))}))}))}function h(n){const{kcClsx:e,i18n:o,passwordInputId:r,children:c}=n,{msgStr:t}=o,{isPasswordRevealed:a,toggleIsPasswordRevealed:l}=w({passwordInputId:r});return s.jsxs("div",Object.assign({className:e("kcInputGroup")},{children:[c,s.jsx("button",Object.assign({type:"button",className:e("kcFormPasswordVisibilityButtonClass"),"aria-label":t(a?"hidePassword":"showPassword"),"aria-controls":r,onClick:l},{children:s.jsx("i",{className:e(a?"kcFormPasswordVisibilityIconHide":"kcFormPasswordVisibilityIconShow"),"aria-hidden":!0})}))]}))}export{v as default};
