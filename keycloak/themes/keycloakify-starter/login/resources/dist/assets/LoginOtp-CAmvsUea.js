import{r as m,j as s}from"./index-DIhzf7wa.js";import{g as x,k as O}from"./KcPage-CcRVjnQI.js";function L(p){const{kcContext:l,i18n:n,doUseDefaultCss:o,Template:u,classes:r}=p,{kcClsx:e}=x({doUseDefaultCss:o,classes:r}),{otpLogin:i,url:g,messagesPerField:a}=l,{msg:d,msgStr:j}=n,[k,C]=m.useState(!1);return s.jsx(u,Object.assign({kcContext:l,i18n:n,doUseDefaultCss:o,classes:r,displayMessage:!a.existsError("totp"),headerNode:d("doLogIn")},{children:s.jsxs("form",Object.assign({id:"kc-otp-login-form",className:e("kcFormClass"),action:g.loginAction,onSubmit:()=>(C(!0),!0),method:"post"},{children:[i.userOtpCredentials.length>1&&s.jsx("div",Object.assign({className:e("kcFormGroupClass")},{children:s.jsx("div",Object.assign({className:e("kcInputWrapperClass")},{children:i.userOtpCredentials.map((c,t)=>s.jsxs(m.Fragment,{children:[s.jsx("input",{id:`kc-otp-credential-${t}`,className:e("kcLoginOTPListInputClass"),type:"radio",name:"selectedCredentialId",value:c.id,defaultChecked:c.id===i.selectedCredentialId}),s.jsx("label",Object.assign({htmlFor:`kc-otp-credential-${t}`,className:e("kcLoginOTPListClass"),tabIndex:t},{children:s.jsxs("span",Object.assign({className:e("kcLoginOTPListItemHeaderClass")},{children:[s.jsx("span",Object.assign({className:e("kcLoginOTPListItemIconBodyClass")},{children:s.jsx("i",{className:e("kcLoginOTPListItemIconClass"),"aria-hidden":"true"})})),s.jsx("span",Object.assign({className:e("kcLoginOTPListItemTitleClass")},{children:c.userLabel}))]}))}))]},t))}))})),s.jsxs("div",Object.assign({className:e("kcFormGroupClass")},{children:[s.jsx("div",Object.assign({className:e("kcLabelWrapperClass")},{children:s.jsx("label",Object.assign({htmlFor:"otp",className:e("kcLabelClass")},{children:d("loginOtpOneTime")}))})),s.jsxs("div",Object.assign({className:e("kcInputWrapperClass")},{children:[s.jsx("input",{id:"otp",name:"otp",autoComplete:"off",type:"text",className:e("kcInputClass"),autoFocus:!0,"aria-invalid":a.existsError("totp")}),a.existsError("totp")&&s.jsx("span",{id:"input-error-otp-code",className:e("kcInputErrorMessageClass"),"aria-live":"polite",dangerouslySetInnerHTML:{__html:O(a.get("totp"))}})]}))]})),s.jsxs("div",Object.assign({className:e("kcFormGroupClass")},{children:[s.jsx("div",Object.assign({id:"kc-form-options",className:e("kcFormOptionsClass")},{children:s.jsx("div",{className:e("kcFormOptionsWrapperClass")})})),s.jsx("div",Object.assign({id:"kc-form-buttons",className:e("kcFormButtonsClass")},{children:s.jsx("input",{className:e("kcButtonClass","kcButtonPrimaryClass","kcButtonBlockClass","kcButtonLargeClass"),name:"login",id:"kc-login",type:"submit",value:j("doLogIn"),disabled:k})}))]}))]}))}))}export{L as default};
