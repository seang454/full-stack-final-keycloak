import{j as s}from"./index-wzh7rEoK.js";import{u as w}from"./useIsPasswordRevealed-RSeT6v6h.js";import{g as x,k as p}from"./KcPage-D2b50LOC.js";function h(n){const{kcContext:e,i18n:r,doUseDefaultCss:o,Template:l,classes:c}=n,{kcClsx:a}=x({doUseDefaultCss:o,classes:c}),{msg:t,msgStr:u}=r,{url:j,messagesPerField:i,isAppInitiatedAction:d}=e;return s.jsx(l,Object.assign({kcContext:e,i18n:r,doUseDefaultCss:o,classes:c,displayMessage:!i.existsError("password","password-confirm"),headerNode:t("updatePasswordTitle")},{children:s.jsxs("form",Object.assign({id:"kc-passwd-update-form",className:a("kcFormClass"),action:j.loginAction,method:"post"},{children:[s.jsxs("div",Object.assign({className:a("kcFormGroupClass")},{children:[s.jsx("div",Object.assign({className:a("kcLabelWrapperClass")},{children:s.jsx("label",Object.assign({htmlFor:"password-new",className:a("kcLabelClass")},{children:t("passwordNew")}))})),s.jsxs("div",Object.assign({className:a("kcInputWrapperClass")},{children:[s.jsx(m,Object.assign({kcClsx:a,i18n:r,passwordInputId:"password-new"},{children:s.jsx("input",{type:"password",id:"password-new",name:"password-new",className:a("kcInputClass"),autoFocus:!0,autoComplete:"new-password","aria-invalid":i.existsError("password","password-confirm")})})),i.existsError("password")&&s.jsx("span",{id:"input-error-password",className:a("kcInputErrorMessageClass"),"aria-live":"polite",dangerouslySetInnerHTML:{__html:p(i.get("password"))}})]}))]})),s.jsxs("div",Object.assign({className:a("kcFormGroupClass")},{children:[s.jsx("div",Object.assign({className:a("kcLabelWrapperClass")},{children:s.jsx("label",Object.assign({htmlFor:"password-confirm",className:a("kcLabelClass")},{children:t("passwordConfirm")}))})),s.jsxs("div",Object.assign({className:a("kcInputWrapperClass")},{children:[s.jsx(m,Object.assign({kcClsx:a,i18n:r,passwordInputId:"password-confirm"},{children:s.jsx("input",{type:"password",id:"password-confirm",name:"password-confirm",className:a("kcInputClass"),autoComplete:"new-password","aria-invalid":i.existsError("password","password-confirm")})})),i.existsError("password-confirm")&&s.jsx("span",{id:"input-error-password-confirm",className:a("kcInputErrorMessageClass"),"aria-live":"polite",dangerouslySetInnerHTML:{__html:p(i.get("password-confirm"))}})]}))]})),s.jsxs("div",Object.assign({className:a("kcFormGroupClass")},{children:[s.jsx(k,{kcClsx:a,i18n:r}),s.jsxs("div",Object.assign({id:"kc-form-buttons",className:a("kcFormButtonsClass")},{children:[s.jsx("input",{className:a("kcButtonClass","kcButtonPrimaryClass",!d&&"kcButtonBlockClass","kcButtonLargeClass"),type:"submit",value:u("doSubmit")}),d&&s.jsx("button",Object.assign({className:a("kcButtonClass","kcButtonDefaultClass","kcButtonLargeClass"),type:"submit",name:"cancel-aia",value:"true"},{children:t("doCancel")}))]}))]}))]}))}))}function k(n){const{kcClsx:e,i18n:r}=n,{msg:o}=r;return s.jsx("div",Object.assign({id:"kc-form-options",className:e("kcFormOptionsClass")},{children:s.jsx("div",Object.assign({className:e("kcFormOptionsWrapperClass")},{children:s.jsx("div",Object.assign({className:"checkbox"},{children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",id:"logout-sessions",name:"logout-sessions",value:"on",defaultChecked:!0}),o("logoutOtherSessions")]})}))}))}))}function m(n){const{kcClsx:e,i18n:r,passwordInputId:o,children:l}=n,{msgStr:c}=r,{isPasswordRevealed:a,toggleIsPasswordRevealed:t}=w({passwordInputId:o});return s.jsxs("div",Object.assign({className:e("kcInputGroup")},{children:[l,s.jsx("button",Object.assign({type:"button",className:e("kcFormPasswordVisibilityButtonClass"),"aria-label":c(a?"hidePassword":"showPassword"),"aria-controls":o,onClick:t},{children:s.jsx("i",{className:e(a?"kcFormPasswordVisibilityIconHide":"kcFormPasswordVisibilityIconShow"),"aria-hidden":!0})}))]}))}export{h as default};
